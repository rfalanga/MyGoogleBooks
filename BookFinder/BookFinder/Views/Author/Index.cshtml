@using BookApi  @*First added a reference to this library project*@
@using System.Web
@model BookFinder.Models.ViewModels.AuthorViewModel

@{
    ViewData["Title"] = "Search by author";
}

<div class="text-center">
    <h1 class="display-4">Search by book author</h1>
</div>

<form asp-controller="Author" asp-action="Index" method="post">
    <input id="AuthorName" name="AuthorName" type="text" />
    @{
        if (@Model != null && !string.IsNullOrEmpty(@Model?.AuthorName))
        {
            var tmp = await @BookApi.GetBooksByAuthor(HttpUtility.HtmlEncode(@Model.AuthorName));
        }
        //int i = 0;
    }

    <div class="text-center" style="margin-top:10px;">
        <input type="submit" value="Search for author's books" class="text-primary" />
    </div>
</form>
